{% schema %}
{
  "name": "Testimonials Carousel",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What our customers say"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "textarea",
          "id": "quote",
          "label": "Quote",
          "default": "This store has amazing service!"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author",
          "default": "Jane Smith"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Testimonials Carousel",
      "category": "Custom",
      "blocks": [
        { "type": "testimonial" },
        { "type": "testimonial" },
        { "type": "testimonial" }
      ]
    }
  ]
}
{% endschema %}

<section class="testimonial-carousel-section">
  <h2>{{ section.settings.heading }}</h2>
  <div class="testimonial-carousel swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide testimonial">
          <blockquote>{{ block.settings.quote }}</blockquote>
          <p class="author">â€” {{ block.settings.author }}</p>
        </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
  </div>
</section>

<style>
.testimonial-carousel-section {
  background: #f9f9f9;
  padding: 60px 20px;
  text-align: center;
}
.testimonial-carousel {
  max-width: 800px;
  margin: 0 auto;
}

.testimonial blockquote {
  font-style: italic;
  font-size: 1.3rem;
  margin-bottom: 10px;
}

.testimonial .author {
  font-weight: bold;
  color: #444;
}

.testimonial-carousel .swiper-pagination {
  margin-top: 40px;
  position: relative;
}

.testimonial-carousel .swiper-pagination-bullet {
  background-color: #ccc;
  opacity: 1;
}

.testimonial-carousel .swiper-pagination-bullet.swiper-pagination-bullet-active {
  background-color: #000;
}

  .swiper{
    position:none
  }
</style>

<script type="module">
  import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.mjs';
  new Swiper('.testimonial-carousel', {
    loop: true,
    autoplay: { delay: 4000 },
    pagination: { el: '.swiper-pagination', clickable: true },
  });
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
